<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>Working with different screen sizes - Cocos2d-x basics</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta property="og:title" content="Working with different screen sizes" />
<meta property="og:description" content="In one of the first articles, I&rsquo;ve recommended to remove from the default AppDelegate.cpp file everything related to work with multiple screen resolutions." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://beardog-ukr.github.io/cocos2dx-examples/en/post/screen-resolution-02/" />
<meta property="article:published_time" content="2020-09-27T10:55:25+03:00" />
<meta property="article:modified_time" content="2020-09-27T10:55:25+03:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Working with different screen sizes"/>
<meta name="twitter:description" content="In one of the first articles, I&rsquo;ve recommended to remove from the default AppDelegate.cpp file everything related to work with multiple screen resolutions."/>
<link href="https://fonts.googleapis.com/css?family=Ubuntu:300,400,300italic,400italic|Raleway:200,300" rel="stylesheet">

	<link rel="stylesheet" type="text/css" media="screen" href="https://beardog-ukr.github.io/cocos2dx-examples/en/css/normalize.css" />
	<link rel="stylesheet" type="text/css" media="screen" href="https://beardog-ukr.github.io/cocos2dx-examples/en/css/main.css" />

	<script src="https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js"></script>
	<script src="https://beardog-ukr.github.io/cocos2dx-examples/en/js/main.js"></script>
</head>

<body>
	<div class="container wrapper post">
		<div class="header">
	<h1 class="site-title"><a href="https://beardog-ukr.github.io/cocos2dx-examples/en/">Cocos2d-x basics</a></h1>
	<div class="site-description"><h2>Some articles about Cocos2d-x framework</h2><nav class="nav social">
			<ul class="flat"><a href="https://github.com/beardog-ukr/cocos2dx-examples" title="Github"><i data-feather="github"></i></a></ul>
		</nav>
	</div>

	<nav class="nav">
		<ul class="flat">
			
			<li>
				<a href="/cocos2dx-examples/en/">Recent</a>
			</li>
			
			<li>
				<a href="/cocos2dx-examples/en/posts">All</a>
			</li>
			
			<li>
				<a href="/cocos2dx-examples/en/about">About</a>
			</li>
			
			<li>
				<a href="/cocos2dx-examples/en/tags">Tags</a>
			</li>
			
		</ul>
	</nav>
</div>


		<div class="post-header">
			<h1 class="title">Working with different screen sizes</h1>
			<div class="meta">Posted at &mdash; Sep 27, 2020</div>
		</div>

		<div class="markdown">
			<p>In <a href="https://beardog-ukr.github.io/cocos2dx-examples/en/post/screen-resolution-01/">one</a> of the first articles, I&rsquo;ve recommended to remove from the default <code>AppDelegate.cpp</code> file everything related to work with multiple screen resolutions.</p>
<p>The <em>Cocos2d</em> development started a long long time ago and there were not many different screen sizes available at that time. Later the diversity increased and there a lot of different formats. And now it seems that everybody used more or less same screen sizes again. At some period of time, the resolution was a serious problem: you had to keep a few sets of images for various generations of devices. Again, now it seems that even cheaper devices have decent screens so the problem is not so important (of course you could disagree with this point).</p>
<p>In theory, the development process should look like this:</p>
<ul>
<li>Developers select the basic screen format; the game will be developed exactly for this format. It&rsquo;s called the &ldquo;<em>design resolution</em>&rdquo;</li>
<li>Then your game gets launched on some device. If the device has a screen different from the <em>design resolution</em> the scene generated by the program will be changed <a href="https://docs.cocos.com/creator/manual/en/ui/multi-resolution.html">somehow</a> to fit the real screen size</li>
<li>You can&rsquo;t use absolute numbers for positioning elements inside the game. Instead, you should calculate all the positions depending on the screen parameters. I&rsquo;ve still used exact numbers here in all the examples only because it made the code simple; but really it&rsquo;s a kind  of bad practice.</li>
</ul>
<p>There was a code like this in default program:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#719e07">auto</span> visibleSize <span style="color:#719e07">=</span> Director<span style="color:#719e07">::</span>getInstance()<span style="color:#719e07">-&gt;</span>getVisibleSize();
Vec2 origin      <span style="color:#719e07">=</span> Director<span style="color:#719e07">::</span>getInstance()<span style="color:#719e07">-&gt;</span>getVisibleOrigin();
</code></pre></div><p>Here <code>visibleSize</code> is the size of the user&rsquo;s screen and <code>origin</code> is the position of the scene&rsquo;s bottom left corner on that screen</p>
<p>Consider the following situation (numbers look unrealistic for our days, but nevermind):</p>
<figure>
    <img src="/cocos2dx-examples/en/post/screen-resolution-img/def_ex_01.jpeg"/> 
</figure>

<p>Here:</p>
<ul>
<li>The development started for 800x480, and that&rsquo;s the <em>design resolution</em></li>
<li>The program gets launched on the device with 1024x768 screen. After the adaptation, the whole scene gets increased, but proportions remain the same, so the scene will get cut from the sides.</li>
<li>After fitting the <code>visibleSize</code> will be 1024x768, and <code>origin</code> will be (128:0). The origin is the position of bottom left corner of large red rectangle on the picture.</li>
</ul>
<p><em>Cocos2d</em> offers few variants of fitting called (<a href="https://docs.cocos2d-x.org/api-ref/creator/v1.0/classes/ResolutionPolicy.html">ResolutionPolicy</a>):</p>
<ul>
<li><code>EXACT_FIT</code> means the image will fill the screen anyway, but it may get stretched horizontally or vertically.</li>
<li><code>FIXED_HEIGHT</code> and <code>FIXED_WIDTH</code> means the proportions remain the same, but the scene may get cut from the sides to keep correct width or height</li>
<li><code>NO_BORDER</code> looks kike automatic selection either <code>FIXED_HEIGHT</code> or <code>FIXED_WIDTH</code></li>
<li><code>SHOW_ALL</code> means proportions remain the same, the whole scene appears on the screen, but black stripes may be added to the sides.</li>
</ul>
<p>Also, you can implement your own policy like is <a href="https://coderwall.com/p/svldvw/configuration-of-multiple-resolution-in-cocos2d-x-3-0">this article</a>.</p>
<p>And another variant, you can skip specifying <em>design resolution</em> and launch with a real screen size. Following code in <code>AppDelegate.cpp</code> does the trick:</p>
<div class="highlight"><pre style="color:#93a1a1;background-color:#002b36;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">Size realScreenSize <span style="color:#719e07">=</span> glview<span style="color:#719e07">-&gt;</span>getFrameSize();
glview<span style="color:#719e07">-&gt;</span>setDesignResolutionSize(realScreenSize.width, realScreenSize.height,
                                ResolutionPolicy<span style="color:#719e07">::</span>NO_BORDER);
</code></pre></div><p>It doesn&rsquo;t matter <em>ResolutionPolicy</em> is used here, you get the real screen size anyway.</p>
<p>If you want to use different sets of images for different sizes you&rsquo;ll have to change the default paths for files downloading. More information about it <a href="https://github.com/cocos2d/cocos2d-x/issues/18492">here</a>, <a href="http://becomingindiedev.blogspot.com/2014/05/multi-resolution-support-in-ios-with.html">here</a> or in <a href="https://www.codeandweb.com/texturepacker/tutorials/animations-and-spritesheets-in-cocos2d-x">this article</a>.</p>
		</div>

		<div class="post-tags">
			
				
					<nav class="nav tags">
							<ul class="flat">
								
								<li><a href="/cocos2dx-examples/en/tags/design-resolution">design resolution</a></li>
								
								<li><a href="/cocos2dx-examples/en/tags/resolutionpolicy">ResolutionPolicy</a></li>
								
								<li><a href="/cocos2dx-examples/en/tags/origin">origin</a></li>
								
								<li><a href="/cocos2dx-examples/en/tags/appdelegate.cpp">AppDelegate.cpp</a></li>
								
							</ul>
					</nav>
				
			
		</div>
		</div>
	<div class="footer wrapper">
	<nav class="nav">
		<div> Â© public domain |  <a href="https://github.com/vividvilla/ezhil">Ezhil theme</a> | Built with <a href="https://gohugo.io">Hugo</a></div>
	</nav>
</div>



<script>feather.replace()</script>
</body>
</html>
